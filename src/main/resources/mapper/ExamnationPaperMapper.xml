<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >
<mapper namespace="com.qexz.dao.ExaminationPaperMapper" >
    <resultMap id="BaseResultMap" type="com.qexz.model.ExaminationPaper" >
        <id column="id" property="id" jdbcType="INTEGER" />
        <result column="exam_name" property="exam_name" jdbcType="VARCHAR" />
        <result column="examination_type" property="examination_type" jdbcType="INTEGER" />
        <result column="department_id" property="department_id" jdbcType="INTEGER" />
        <result column="state" property="state" jdbcType="INTEGER" />
        <result column="score" property="score" jdbcType="INTEGER" />
        <result column="difficulty" property="difficulty" jdbcType="INTEGER" />
        <result column="version" property="version" jdbcType="VARCHAR" />
        <result column="create_time" property="create_time" jdbcType="TIMESTAMP" />
        <result column="update_time" property="update_time" jdbcType="TIMESTAMP" />
        <result column="startDate" property="startDate" jdbcType="TIMESTAMP" />
        <result column="endDate" property="endDate" jdbcType="TIMESTAMP" />
    </resultMap>
   

    <insert id="insertExaminationPaper" parameterType="com.qexz.model.ExaminationPaper" >
        insert into t_examination_paper
                (id, name, sex, ismarry, nation, degree, college, cert_type, cartno, password, qq, vchat, phone, email, description, avatar_img_url, approvestatus, state, create_time, update_time, addr, resume_file, attribute1, attribute2, attribute3, attribute4, attribute5)
        values
               (#{User.id}, #{User.name}, #{User.sex}, #{User.ismarry}, #{User.nation}, #{User.degree}, #{User.college}, #{User.cert_type}, #{User.cartno}, #{User.password}, #{User.qq}, #{User.vchat}, #{User.phone}, #{User.email}, #{User.description}, #{User.avatar_img_url}, #{User.approvestatus}, #{User.state}, #{User.create_time}, #{User.update_time}, #{User.addr}, #{User.resume_file}, #{User.attribute1}, #{User.attribute2}, #{User.attribute3}, #{User.attribute4}, #{User.attribute5})

    </insert>
    
    <update id="updateExaminationPaperById" parameterType="com.qexz.model.ExaminationPaper">
        UPDATE t_examination_paper
        SET
            name = #{User.name}, sex = #{User.sex}, ismarry = #{User.ismarry}, nation = #{User.nation}, degree = #{User.degree}, college = #{User.college}, cert_type = #{User.cert_type}, cartno = #{User.cartno},
            qq = #{User.qq}, vchat = #{User.vchat}, phone = #{User.phone}, email = #{User.email}, description = #{User.description}, avatar_img_url = #{User.avatar_img_url}, approvestatus = #{User.approvestatus},
            state = #{User.state}, addr = #{User.addr}, resume_file = #{User.resume_file}, attribute1 = #{User.attribute1},
            attribute2 = #{User.attribute2}, attribute3 = #{User.attribute3}, attribute4 = #{User.attribute4}, attribute5 = #{User.attribute5}
        WHERE
        id = #{User.id}
    </update>


    <!--根据账号查询账号信息-->
    <select id="getExaminationPaperByname" resultMap="BaseResultMap" parameterType="String" >
        select
        <include refid="Base_Column_List" />
        from t_examination_paper
        where exam_name = #{exam_name}
    </select>

    <select id="getCount" resultType="int">
        SELECT
        COUNT(1)
        FROM t_examination_paper
    </select>

    <select id="getExaminationPapers" resultMap="BaseResultMap" >
        SELECT
        *
        FROM t_examination_paper
        ORDER BY create_time DESC
    </select>

    <delete id="deleteExaminationPaper" parameterType="int" >
        delete from t_examination_paper
        where id = #{id}
    </delete>

    <update id="updateState" >
        update t_examination_paper set
        state = #{state}
        where id = #{id}
    </update>

    <select id="getExaminationPapersByIdSets" resultMap="BaseResultMap">
        SELECT
        *
        FROM t_examination_paper
        WHERE 1 = 1
        <if test="ids != null and ids.size > 0">
            AND id IN
            <foreach collection="ids" item="id" open="(" separator="," close=")">
                #{id}
            </foreach>
        </if>
    </select>

    <!--根据主键ID查询账号信息-->
    <select id="getExaminationPaperById" resultMap="BaseResultMap" parameterType="int" >
        select
        *
        from t_examination_paper
        where id = #{id}
    </select>


</mapper>